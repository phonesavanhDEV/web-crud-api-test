"use strict";function loadTable(){var e=new XMLHttpRequest;e.open("GET","http://localhost:3000/user/all"),e.send(),e.onreadystatechange=function(){if(4==this.readyState&&200==this.status){console.log(this.responseText);var e="",t=JSON.parse(this.responseText),a=!0,n=!1,s=void 0;try{for(var l,i=t[Symbol.iterator]();!(a=(l=i.next()).done);a=!0){var r=l.value;e+="<tr>",e+="<td>"+r.id+"</td>",e+='<td><img width="50px" src="'+r.avatar+'" class="avatar"></td>',e+="<td>"+r.fname+"</td>",e+="<td>"+r.lname+"</td>",e+="<td>"+r.username+"</td>",e+='<td><button type="button" class="btn btn-outline-secondary" onclick="showUserEditBox('+r.id+')">Edit</button>',e+='<button type="button" class="btn btn-outline-danger" onclick="userDelete('+r.id+')">Del</button></td>',e+="</tr>"}}catch(e){n=!0,s=e}finally{try{a||null==i.return||i.return()}finally{if(n)throw s}}document.getElementById("mytable").innerHTML=e}}}function showUserCreateBox(){Swal.fire({title:"Create user",html:'<input id="id" class="swal2-input" placeholder="ID"><input id="fname" class="swal2-input" placeholder="First"><input id="lname" class="swal2-input" placeholder="Last"><input id="username" class="swal2-input" placeholder="Username"><input id="email" class="swal2-input" placeholder="Email"><input id="avatar" class="swal2-input" placeholder="Avatar">',focusConfirm:!1,preConfirm:function(){userCreate()}})}function userCreate(){var e=document.getElementById("id").value,t=document.getElementById("fname").value,a=document.getElementById("lname").value,n=document.getElementById("username").value,s=document.getElementById("email").value,l=document.getElementById("avatar").value,i=new XMLHttpRequest;i.open("POST","http://localhost:3000/user/create"),i.setRequestHeader("Content-Type","application/json;charset=UTF-8"),i.send(JSON.stringify({id:e,fname:t,lname:a,username:n,email:s,avatar:l})),i.onreadystatechange=function(){if(4==this.readyState&&200==this.status){var e=JSON.parse(this.responseText);Swal.fire(e.message),loadTable()}}}function userDelete(e){var t=new XMLHttpRequest;t.open("DELETE","http://localhost:3000/user/delete"),t.setRequestHeader("Content-Type","application/json;charset=UTF-8"),t.send(JSON.stringify({id:e})),t.onreadystatechange=function(){if(4==this.readyState){var e=JSON.parse(this.responseText);Swal.fire(e.message),loadTable()}}}function showUserEditBox(e){console.log(e);var t=new XMLHttpRequest;t.open("GET","http://localhost:3000/user/"+e),t.send(),t.onreadystatechange=function(){if(4==this.readyState&&200==this.status){var e=JSON.parse(this.responseText).user;console.log(e),Swal.fire({title:"Edit User",html:'<input id="id" class="swal2-input" placeholder="First" value="'+e.id+'" disabled><input id="fname" class="swal2-input" placeholder="First" value="'+e.fname+'"><input id="lname" class="swal2-input" placeholder="Last" value="'+e.lname+'"><input id="username" class="swal2-input" placeholder="Username" value="'+e.username+'"><input id="email" class="swal2-input" placeholder="Email" value="'+e.email+'"><input id="avatar" class="swal2-input" placeholder="Avatar" value="'+e.avatar+'">',focusConfirm:!1,preConfirm:function(){userEdit()}})}}}function userEdit(){var e=document.getElementById("id").value,t=document.getElementById("fname").value,a=document.getElementById("lname").value,n=document.getElementById("username").value,s=document.getElementById("email").value,l=document.getElementById("avatar").value,i=new XMLHttpRequest;i.open("PUT","http://localhost:3000/user/update"),i.setRequestHeader("Content-Type","application/json;charset=UTF-8"),i.send(JSON.stringify({id:e,fname:t,lname:a,username:n,email:s,avatar:l})),i.onreadystatechange=function(){if(4==this.readyState&&200==this.status){var e=JSON.parse(this.responseText);Swal.fire(e.message),loadTable()}}}loadTable();
//# sourceMappingURL=index.min.js.map
