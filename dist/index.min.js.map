{"version":3,"sources":["index.js"],"names":["loadTable","xhttp","XMLHttpRequest","open","send","readyState","this","status","console","log","responseText","onreadystatechange","objects","parse","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","trHTML","object","err","_iterator","innerHTML","Swal","fire","title","html","focusConfirm","preConfirm","userCreate","document","id","getElementById","value","fname","lname","username","avatar","setRequestHeader","stringify","email","JSON","userDelete","user","userEdit"],"mappings":"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","file":"index.min.js","sourcesContent":["function loadTable() {\r\n  const xhttp = new XMLHttpRequest();\r\n  xhttp.open(\"GET\", \"http://localhost:3000/user/all\");\r\n  xhttp.send();\r\n  xhttp.onreadystatechange = function() {\r\n    if (this.readyState == 4 && this.status == 200) {\r\n      console.log(this.responseText);\r\n      var trHTML = ''; \r\n      const objects = JSON.parse(this.responseText);\r\n      for (let object of objects) {\r\n        trHTML += '<tr>'; \r\n        trHTML += '<td>'+object['id']+'</td>';\r\n        trHTML += '<td><img width=\"50px\" src=\"'+object['avatar']+'\" class=\"avatar\"></td>';\r\n        trHTML += '<td>'+object['fname']+'</td>';\r\n        trHTML += '<td>'+object['lname']+'</td>';\r\n        trHTML += '<td>'+object['username']+'</td>';\r\n        trHTML += '<td><button type=\"button\" class=\"btn btn-outline-secondary\" onclick=\"showUserEditBox('+object['id']+')\">Edit</button>';\r\n        trHTML += '<button type=\"button\" class=\"btn btn-outline-danger\" onclick=\"userDelete('+object['id']+')\">Del</button></td>';\r\n        trHTML += \"</tr>\";\r\n      }\r\n      document.getElementById(\"mytable\").innerHTML = trHTML;\r\n    }\r\n  };\r\n}\r\n\r\nloadTable();\r\n\r\nfunction showUserCreateBox() {\r\n  Swal.fire({\r\n    title: 'Create user',\r\n    html:\r\n      '<input id=\"id\" class=\"swal2-input\" placeholder=\"ID\">' +\r\n      '<input id=\"fname\" class=\"swal2-input\" placeholder=\"First\">' +\r\n      '<input id=\"lname\" class=\"swal2-input\" placeholder=\"Last\">' +\r\n      '<input id=\"username\" class=\"swal2-input\" placeholder=\"Username\">' +\r\n      '<input id=\"email\" class=\"swal2-input\" placeholder=\"Email\">' +\r\n      '<input id=\"avatar\" class=\"swal2-input\" placeholder=\"Avatar\">',\r\n    focusConfirm: false,\r\n    preConfirm: () => {\r\n      userCreate();\r\n    }\r\n  })\r\n}\r\n\r\nfunction userCreate() {\r\n  const id = document.getElementById(\"id\").value;\r\n  const fname = document.getElementById(\"fname\").value;\r\n  const lname = document.getElementById(\"lname\").value;\r\n  const username = document.getElementById(\"username\").value;\r\n  const email = document.getElementById(\"email\").value;\r\n  const avatar = document.getElementById(\"avatar\").value;\r\n    \r\n  const xhttp = new XMLHttpRequest();\r\n  xhttp.open(\"POST\", \"http://localhost:3000/user/create\");\r\n  xhttp.setRequestHeader(\"Content-Type\", \"application/json;charset=UTF-8\");\r\n  xhttp.send(JSON.stringify({ \r\n    \"id\": id, \"fname\": fname, \"lname\": lname, \"username\": username, \"email\": email, \r\n    \"avatar\": avatar\r\n  }));\r\n  xhttp.onreadystatechange = function() {\r\n    if (this.readyState == 4 && this.status == 200) {\r\n      const objects = JSON.parse(this.responseText);\r\n      Swal.fire(objects['message']);\r\n      loadTable();\r\n    }\r\n  };\r\n}\r\n\r\nfunction userDelete(id) {\r\n  const xhttp = new XMLHttpRequest();\r\n  xhttp.open(\"DELETE\", \"http://localhost:3000/user/delete\");\r\n  xhttp.setRequestHeader(\"Content-Type\", \"application/json;charset=UTF-8\");\r\n  xhttp.send(JSON.stringify({ \r\n    \"id\": id\r\n  }));\r\n  xhttp.onreadystatechange = function() {\r\n    if (this.readyState == 4) {\r\n      const objects = JSON.parse(this.responseText);\r\n      Swal.fire(objects['message']);\r\n      loadTable();\r\n    } \r\n  };\r\n}\r\n\r\nfunction showUserEditBox(id) {\r\n  console.log(id);\r\n  const xhttp = new XMLHttpRequest();\r\n  xhttp.open(\"GET\", \"http://localhost:3000/user/\"+id);\r\n  xhttp.send();\r\n  xhttp.onreadystatechange = function() {\r\n    if (this.readyState == 4 && this.status == 200) {\r\n      const objects = JSON.parse(this.responseText);\r\n      const user = objects['user'];\r\n      console.log(user);\r\n      Swal.fire({\r\n        title: 'Edit User',\r\n        html:\r\n          '<input id=\"id\" class=\"swal2-input\" placeholder=\"First\" value=\"'+user['id']+'\" disabled>' +\r\n          '<input id=\"fname\" class=\"swal2-input\" placeholder=\"First\" value=\"'+user['fname']+'\">' +\r\n          '<input id=\"lname\" class=\"swal2-input\" placeholder=\"Last\" value=\"'+user['lname']+'\">' +\r\n          '<input id=\"username\" class=\"swal2-input\" placeholder=\"Username\" value=\"'+user['username']+'\">' +\r\n          '<input id=\"email\" class=\"swal2-input\" placeholder=\"Email\" value=\"'+user['email']+'\">' +\r\n          '<input id=\"avatar\" class=\"swal2-input\" placeholder=\"Avatar\" value=\"'+user['avatar']+'\">',\r\n        focusConfirm: false,\r\n        preConfirm: () => {\r\n          userEdit();\r\n        }\r\n      })\r\n    }\r\n  };\r\n}\r\n\r\nfunction userEdit() {\r\n  const id = document.getElementById(\"id\").value;\r\n  const fname = document.getElementById(\"fname\").value;\r\n  const lname = document.getElementById(\"lname\").value;\r\n  const username = document.getElementById(\"username\").value;\r\n  const email = document.getElementById(\"email\").value;\r\n  const avatar = document.getElementById(\"avatar\").value;\r\n    \r\n  const xhttp = new XMLHttpRequest();\r\n  xhttp.open(\"PUT\", \"http://localhost:3000/user/update\");\r\n  xhttp.setRequestHeader(\"Content-Type\", \"application/json;charset=UTF-8\");\r\n  xhttp.send(JSON.stringify({ \r\n    \"id\": id, \"fname\": fname, \"lname\": lname, \"username\": username, \"email\": email, \r\n    \"avatar\": avatar\r\n  }));\r\n  xhttp.onreadystatechange = function() {\r\n    if (this.readyState == 4 && this.status == 200) {\r\n      const objects = JSON.parse(this.responseText);\r\n      Swal.fire(objects['message']);\r\n      loadTable();\r\n    }\r\n  };\r\n}\r\n"]}