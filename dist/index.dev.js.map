{"version":3,"sources":["index.js"],"names":["loadTable","xhttp","XMLHttpRequest","open","send","onreadystatechange","readyState","status","console","log","responseText","trHTML","objects","JSON","parse","object","document","getElementById","innerHTML","showUserCreateBox","Swal","fire","title","html","focusConfirm","preConfirm","userCreate","id","value","fname","lname","username","email","avatar","setRequestHeader","stringify","userDelete","showUserEditBox","user","userEdit"],"mappings":"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","sourcesContent":["function loadTable() {\r\n  const xhttp = new XMLHttpRequest();\r\n  xhttp.open(\"GET\", \"http://localhost:3000/user/all\");\r\n  xhttp.send();\r\n  xhttp.onreadystatechange = function() {\r\n    if (this.readyState == 4 && this.status == 200) {\r\n      console.log(this.responseText);\r\n      var trHTML = ''; \r\n      const objects = JSON.parse(this.responseText);\r\n      for (let object of objects) {\r\n        trHTML += '<tr>'; \r\n        trHTML += '<td>'+object['id']+'</td>';\r\n        trHTML += '<td><img width=\"50px\" src=\"'+object['avatar']+'\" class=\"avatar\"></td>';\r\n        trHTML += '<td>'+object['fname']+'</td>';\r\n        trHTML += '<td>'+object['lname']+'</td>';\r\n        trHTML += '<td>'+object['username']+'</td>';\r\n        trHTML += '<td><button type=\"button\" class=\"btn btn-outline-secondary\" onclick=\"showUserEditBox('+object['id']+')\">Edit</button>';\r\n        trHTML += '<button type=\"button\" class=\"btn btn-outline-danger\" onclick=\"userDelete('+object['id']+')\">Del</button></td>';\r\n        trHTML += \"</tr>\";\r\n      }\r\n      document.getElementById(\"mytable\").innerHTML = trHTML;\r\n    }\r\n  };\r\n}\r\n\r\nloadTable();\r\n\r\nfunction showUserCreateBox() {\r\n  Swal.fire({\r\n    title: 'Create user',\r\n    html:\r\n      '<input id=\"id\" class=\"swal2-input\" placeholder=\"ID\">' +\r\n      '<input id=\"fname\" class=\"swal2-input\" placeholder=\"First\">' +\r\n      '<input id=\"lname\" class=\"swal2-input\" placeholder=\"Last\">' +\r\n      '<input id=\"username\" class=\"swal2-input\" placeholder=\"Username\">' +\r\n      '<input id=\"email\" class=\"swal2-input\" placeholder=\"Email\">' +\r\n      '<input id=\"avatar\" class=\"swal2-input\" placeholder=\"Avatar\">',\r\n    focusConfirm: false,\r\n    preConfirm: () => {\r\n      userCreate();\r\n    }\r\n  })\r\n}\r\n\r\nfunction userCreate() {\r\n  const id = document.getElementById(\"id\").value;\r\n  const fname = document.getElementById(\"fname\").value;\r\n  const lname = document.getElementById(\"lname\").value;\r\n  const username = document.getElementById(\"username\").value;\r\n  const email = document.getElementById(\"email\").value;\r\n  const avatar = document.getElementById(\"avatar\").value;\r\n    \r\n  const xhttp = new XMLHttpRequest();\r\n  xhttp.open(\"POST\", \"http://localhost:3000/user/create\");\r\n  xhttp.setRequestHeader(\"Content-Type\", \"application/json;charset=UTF-8\");\r\n  xhttp.send(JSON.stringify({ \r\n    \"id\": id, \"fname\": fname, \"lname\": lname, \"username\": username, \"email\": email, \r\n    \"avatar\": avatar\r\n  }));\r\n  xhttp.onreadystatechange = function() {\r\n    if (this.readyState == 4 && this.status == 200) {\r\n      const objects = JSON.parse(this.responseText);\r\n      Swal.fire(objects['message']);\r\n      loadTable();\r\n    }\r\n  };\r\n}\r\n\r\nfunction userDelete(id) {\r\n  const xhttp = new XMLHttpRequest();\r\n  xhttp.open(\"DELETE\", \"http://localhost:3000/user/delete\");\r\n  xhttp.setRequestHeader(\"Content-Type\", \"application/json;charset=UTF-8\");\r\n  xhttp.send(JSON.stringify({ \r\n    \"id\": id\r\n  }));\r\n  xhttp.onreadystatechange = function() {\r\n    if (this.readyState == 4) {\r\n      const objects = JSON.parse(this.responseText);\r\n      Swal.fire(objects['message']);\r\n      loadTable();\r\n    } \r\n  };\r\n}\r\n\r\nfunction showUserEditBox(id) {\r\n  console.log(id);\r\n  const xhttp = new XMLHttpRequest();\r\n  xhttp.open(\"GET\", \"http://localhost:3000/user/\"+id);\r\n  xhttp.send();\r\n  xhttp.onreadystatechange = function() {\r\n    if (this.readyState == 4 && this.status == 200) {\r\n      const objects = JSON.parse(this.responseText);\r\n      const user = objects['user'];\r\n      console.log(user);\r\n      Swal.fire({\r\n        title: 'Edit User',\r\n        html:\r\n          '<input id=\"id\" class=\"swal2-input\" placeholder=\"First\" value=\"'+user['id']+'\" disabled>' +\r\n          '<input id=\"fname\" class=\"swal2-input\" placeholder=\"First\" value=\"'+user['fname']+'\">' +\r\n          '<input id=\"lname\" class=\"swal2-input\" placeholder=\"Last\" value=\"'+user['lname']+'\">' +\r\n          '<input id=\"username\" class=\"swal2-input\" placeholder=\"Username\" value=\"'+user['username']+'\">' +\r\n          '<input id=\"email\" class=\"swal2-input\" placeholder=\"Email\" value=\"'+user['email']+'\">' +\r\n          '<input id=\"avatar\" class=\"swal2-input\" placeholder=\"Avatar\" value=\"'+user['avatar']+'\">',\r\n        focusConfirm: false,\r\n        preConfirm: () => {\r\n          userEdit();\r\n        }\r\n      })\r\n    }\r\n  };\r\n}\r\n\r\nfunction userEdit() {\r\n  const id = document.getElementById(\"id\").value;\r\n  const fname = document.getElementById(\"fname\").value;\r\n  const lname = document.getElementById(\"lname\").value;\r\n  const username = document.getElementById(\"username\").value;\r\n  const email = document.getElementById(\"email\").value;\r\n  const avatar = document.getElementById(\"avatar\").value;\r\n    \r\n  const xhttp = new XMLHttpRequest();\r\n  xhttp.open(\"PUT\", \"http://localhost:3000/user/update\");\r\n  xhttp.setRequestHeader(\"Content-Type\", \"application/json;charset=UTF-8\");\r\n  xhttp.send(JSON.stringify({ \r\n    \"id\": id, \"fname\": fname, \"lname\": lname, \"username\": username, \"email\": email, \r\n    \"avatar\": avatar\r\n  }));\r\n  xhttp.onreadystatechange = function() {\r\n    if (this.readyState == 4 && this.status == 200) {\r\n      const objects = JSON.parse(this.responseText);\r\n      Swal.fire(objects['message']);\r\n      loadTable();\r\n    }\r\n  };\r\n}\r\n"],"file":"index.dev.js"}